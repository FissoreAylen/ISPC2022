CREATE DATABASE ISPC CHARACTER SET utf8mb4;
USE ISPC ;
DROP DATABASE IF EXISTS ISPC;

CREATE TABLE Dueño (
	DNI INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(20) NOT NULL,
    Apellido VARCHAR(20) NOT NULL,
    Telefono VARCHAR(20) NOT NULL,
    Direccion VARCHAR(25) NOT NULL
);

CREATE TABLE Perro (
	ID_perro INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(20) NOT NULL,
    Fecha_nac DATE NOT NULL,
    Sexo VARCHAR(20) NOT NULL, 
    DNI_deuño INT NOT NULL,
    FOREIGN KEY(DNI_deuño) REFERENCES dueño(DNI)
);

CREATE TABLE Historial (
	ID_Historial INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    Fecha DATE NOT NULL,
    Descripcion VARCHAR(50) NOT NULL,
    Monto FLOAT NOT NULL,    
    Perro INT NOT NULL,
    FOREIGN KEY(Perro) REFERENCES perro(ID_perro)
);

SELECT * FROM Dueño;
SELECT * FROM Perro;
SELECT * FROM Historial;

INSERT INTO Dueño VALUES(39601040,"Matias","Fiorentini","2616666666","1996-05-18");
INSERT INTO Dueño VALUES(20564732,"Eduardo","Alanhi","2614356758","1990-06-03");
INSERT INTO Dueño VALUES(34567234,"Claudia","Zidane","2614567321","1992-11-01");
INSERT INTO Dueño VALUES(28769546,"Enzo","Giamportone","2616547899","1992-06-11");
INSERT INTO Dueño VALUES(35461222,"Marianela","Gonzales","2613234321","1993-02-02");
INSERT INTO Dueño VALUES(37868900,"Oscar","Vega","2614678090","2000-06-11");

INSERT INTO Perro VALUES(1,"Felipe","2010-05-18","Macho",39601040);
INSERT INTO Perro VALUES(2,"Diana","2015-06-18","Hembra",20564732);
INSERT INTO Perro VALUES(3,"Tatin","2020-01-09","Macho",34567234);
INSERT INTO Perro VALUES(4,"kaiba","2019-12-05","Macho",28769546);
INSERT INTO Perro VALUES(5,"Titan","2021-05-05","Macho",35461222);
INSERT INTO Perro VALUES(6,"Many","2021-09-26","Macho",37868900);

SELECT * FROM Perro WHERE Sexo = "Macho" AND Fecha_nac BETWEEN "2020-01-01" and "2022-12-31";






